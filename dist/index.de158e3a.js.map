{"mappings":"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","sources":["src/main.js"],"sourcesContent":["const $siteList = $(\".siteList\");\r\nvar input = document.querySelector(\"input\");\r\nvar marker = document.getElementById(\"marker\");\r\ninput.addEventListener(\"click\", () => {\r\n  marker.style.display = \"block\";\r\n  $(document).unbind(\"keypress\");//input聚焦状态取消快捷跳转\r\n});\r\n\r\ninput.addEventListener(\"blur\", ()=>{\r\n  marker.style.display = \"none\";\r\n});\r\n$siteList.display = \"none\";\r\nconst $lastLi = $siteList.find(\"li.last\");\r\nconst hashTable = JSON.parse(localStorage.getItem(\"hashTable\")); //获取localStorage，第一次执行的为空\r\nconst hashMap = hashTable || [\r\n  { logo: \"A\", url: \"https://www.acfun.cn\" },\r\n  { logo: \"B\", url: \"https://www.bilibili.com\" },\r\n];\r\n//简化url\r\nconst simplifyUrl = (url) => {\r\n  //删除网址前缀,简化url\r\n  return url\r\n    .replace(\"https://\", \"\") //replace后会产生新的字符串，故不能直接return原来的url\r\n    .replace(\"http://\", \"\")\r\n    .replace(\"www.\", \"\")\r\n    .replace(/\\/.*/, \"\"); //删除斜杆后面的内容——  / \\ /.*/   /为斜杆，\\为反斜杆，反斜杆为转义字符，表示斜杆用：\\ /  ,表示斜杆后面的所有内容： /.*\r\n};\r\n//渲染hash生成模板\r\nconst render = () => {\r\n  $siteList.find(\"li:not(.last)\").remove(); //移除已有网址防止重新渲染\r\n  hashMap.forEach((node, index) => {\r\n    const $li = $(`<li>\r\n          <div class=\"site\">\r\n            <div class=\"logo\">${node.logo}</div>\r\n            <div class=\"link\">${simplifyUrl(node.url)}</div>\r\n            <div class=\"close\">\r\n              <svg class=\"icon\">\r\n                <use xlink:href=\"#icon-close\"></use>\r\n              </svg>\r\n            </div>\r\n          </div>\r\n        </li>`).insertBefore($lastLi);\r\n    $li.on(\"click\", () => {\r\n      window.open(node.url);\r\n    });\r\n    $li.on(\"click\", \".close\", (e) => {\r\n      e.stopPropagation(); //阻止close事件冒泡到卡片open事件\r\n      hashMap.splice(index, 1);\r\n      render();\r\n    });\r\n  });\r\n};\r\nrender(); //初始化渲染\r\n\r\n$(\".addButton\").on(\"click\", () => {\r\n  //添加点击事件，新增网址卡片\r\n  let url = prompt(\"请输入你要新增网站的网址：\");\r\n  if (url.indexOf(\"https\") !== 0) {\r\n    url = \"https://\" + url; //用户体验：兼容用户输入的url\r\n  }\r\n\r\n  hashMap.push({\r\n    //将新增网址内容插入哈希数组  读档\r\n    logo: simplifyUrl(url)[0].toUpperCase(),\r\n    url: url,\r\n  });\r\n  render(); // 重新渲染哈希数组以读档\r\n});\r\nwindow.onbeforeunload = () => {\r\n  //页面要关闭之前\r\n  const hashTable = JSON.stringify(hashMap); //将哈希数组从对象转化为字符串\r\n  localStorage.setItem(\"hashTable\", hashTable);\r\n};\r\n$(document).on(\"keypress\", (e) => {\r\n  //监听键盘事件\r\n  const { key } = e;\r\n  for (let i = 0; i < hashMap.length; i++) {\r\n    //遍历哈希，找到键盘按下的键与之对应的哈希\r\n    // if(input.blur){\r\n    //     return\r\n    // }\r\n    if (hashMap[i].logo.toLowerCase() === key) {\r\n      window.open(hashMap[i].url);\r\n    }\r\n  }\r\n});\r\n"],"names":[],"version":3,"file":"index.de158e3a.js.map","sourceRoot":"/__parcel_source_root/"}