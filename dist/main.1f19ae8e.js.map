{"version":3,"sources":["main.js"],"names":["$siteList","$","put","document","querySelector","d","getElementById","addEventListener","f1","f2","style","display","$lastLi","find","x","localStorage","getItem","xObject","JSON","parse","hashMap","logo","url","simplifyUrl","replace","render","remove","forEach","node","index","$li","insertBefore","console","log","on","window","open","e","stopPropagation","splice","prompt","indexOf","push","toUpperCase","onbeforeunload","myStorage","stringify","setItem","key","i","length","toLowerCase"],"mappings":"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","file":"main.1f19ae8e.js","sourceRoot":"../src","sourcesContent":["const $siteList = $('.siteList')\nvar put =document.querySelector(\"input\")\nvar d = document.getElementById(\"marker\")\nput.addEventListener(\"click\",f1)\nput.addEventListener(\"click\",f2)\n\nfunction f1() {\n        d.style.display = \"block\";\n}\nfunction f2() {}\n$siteList.display = \"none\"\n\nput.addEventListener(\"blur\",function () {\n    d.style.display =\"none\"\n})\n\nconst $lastLi = $siteList.find('li.last')\nconst x = localStorage.getItem('x') //获取localStorage，第一次执行的为空\nconst xObject = JSON.parse(x) //将localStorage从字符串转化为对象\nconst hashMap = xObject || [ //渲染哈希，或逻辑，如果xObject有内容则渲染，无则渲染后者\n    { logo: 'A', url: 'https://www.acfun.cn' },\n    { logo: 'B', url: 'https://www.bilibili.com' }\n]\nconst simplifyUrl = (url) => { //删除网址前缀,简化url\n    return url.replace('https://', '') //replace后会产生新的字符串，故不能直接return原来的url\n        .replace('http://', '')\n        .replace('www.', '')\n        .replace(/\\/.*/, '') //删除斜杆后面的内容——  / \\ /.*/   /为斜杆，\\为反斜杆，反斜杆为转义字符，表示斜杆用：\\ /  ,表示斜杆后面的所有内容： /.*\n}\nconst render = () => { //声明渲染函数\n    $siteList.find('li:not(.last)').remove() //移除已有网址防止重新渲染\n    hashMap.forEach((node, index) => {\n        const $li = $(`<li>\n          <div class=\"site\">\n            <div class=\"logo\">${node.logo}</div>\n            <div class=\"link\">${simplifyUrl(node.url)}</div>\n            <div class=\"close\">\n              <svg class=\"icon\">\n                <use xlink:href=\"#icon-close\"></use>\n              </svg>\n            </div>\n          </div>\n        </li>`).insertBefore($lastLi)\n        console.log($li);\n        $li.on('click', () => {\n            window.open(node.url)\n        })\n        $li.on('click', '.close', (e) => {\n            e.stopPropagation() //阻止冒泡到close按钮\n            hashMap.splice(index, 1)\n            render()\n\n        })\n    })\n}\nrender() //先全部渲染一遍\n\n$('.addButton')\n    .on('click', () => { //添加点击事件，新增网址卡片\n        let url = prompt('请输入你要新增网站的网址：')\n        if (url.indexOf('https') !== 0) {\n            url = 'https://' + url\n        }\n\n        hashMap.push({ //将新增网址内容插入哈希数组读档\n            logo: simplifyUrl(url)[0].toUpperCase(),\n            url: url,\n        });\n        render() // 重新渲染哈希数组以读档\n    });\nwindow.onbeforeunload = () => {\n    const myStorage = JSON.stringify(hashMap) //将哈希数组从对象转化为字符串\n    localStorage.setItem('x', myStorage)\n}\n$(document).on('keypress', (e) => { //监听键盘事件\n    const { key } = e\n    for (let i = 0; i < hashMap.length; i++) { //遍历哈希，找到键盘按下的键与之对应的哈希\n        if (hashMap[i].logo.toLowerCase() === key) {\n            window.open(hashMap[i].url)\n        }\n    }\n})"]}