{"mappings":"kBAAMA,EAAYC,EAAC,iBACfC,EAAMC,SAASC,cAAa,SAC5BC,EAAIF,SAASG,eAAc,UAC/BJ,EAAIK,iBAAgB,oBAIhBF,EAAEG,MAAMC,QAAO,WAHnBP,EAAIK,iBAAgB,wBAOpBP,EAAUS,QAAO,OAEjBP,EAAIK,iBAAgB,QAAO,WACvBF,EAAEG,MAAMC,QAAO,gBAGbC,EAAUV,EAAUW,KAAI,WACxBC,EAAIC,aAAaC,QAAO,KAEJC,EADVC,KAAKC,MAAML,IACJ,EACjBM,KAAI,IAAOC,IAAG,yBACdD,KAAI,IAAOC,IAAG,6BAEdC,EAAeD,GACVA,EAAIE,QAAO,WAAW,IACxBA,QAAO,UAAU,IACjBA,QAAO,OAAO,IACdA,QAAO,OAAA,IAEoFC,EAAxF,KACRtB,EAAUW,KAAI,iBAAkBY,SACRR,EAAhBS,SAAO,CAAEC,EAAMC,WACbC,EAAM1B,EAAC,qEAEWwB,EAAKP,6CACLE,EAAYK,EAAKN,kNAOjCS,aAAalB,GACrBmB,QAAQC,IAAIH,GACZA,EAAII,GAAE,SAAQ,KACVC,OAAOC,KAAKR,EAAKN,QAErBQ,EAAII,GAAE,QAAQ,UAAaG,IACvBA,EAAEC,kBACYpB,EAANqB,OAAOV,EAAO,GACtBJ,WAKZA,IAEcrB,EAAb,cACI8B,GAAE,SAAQ,SACHZ,EAAMkB,OAAM,iBACa,IAAClB,EAAtBmB,QAAO,WACXnB,EAAG,WAAgBA,GAGvBJ,EAAQwB,KAAI,CACRrB,KAAME,EAAYD,GAAK,GAAGqB,cAC1BrB,IAAKA,IAETG,OAEcU,OAAfS,eAAc,WACXC,EAAY1B,KAAK2B,UAAU5B,GACLF,aAAf+B,QAAO,IAAMF,IAE9BzC,EAAEE,UAAU4B,GAAE,YAAcG,cAChBW,GAAQX,UACPY,EAAI,EAAGA,EAAI/B,EAAQgC,OAAQD,IAC5B/B,EAAQ+B,GAAG5B,KAAK8B,gBAAkBH,GAClCb,OAAOC,KAAKlB,EAAQ+B,GAAG3B","sources":["src/main.js"],"sourcesContent":["const $siteList = $('.siteList')\r\nvar put = document.querySelector(\"input\")\r\nvar d = document.getElementById(\"marker\")\r\nput.addEventListener(\"click\", f1)\r\nput.addEventListener(\"click\", f2)\r\n\r\nfunction f1() {\r\n    d.style.display = \"block\";\r\n}\r\n\r\nfunction f2() {}\r\n$siteList.display = \"none\"\r\n\r\nput.addEventListener(\"blur\", function() {\r\n    d.style.display = \"none\"\r\n})\r\n\r\nconst $lastLi = $siteList.find('li.last')\r\nconst x = localStorage.getItem('x') //获取localStorage，第一次执行的为空\r\nconst xObject = JSON.parse(x) //将localStorage从字符串转化为对象\r\nconst hashMap = xObject || [ //渲染哈希，或逻辑，如果xObject有内容则渲染，无则渲染后者\r\n    { logo: 'A', url: 'https://www.acfun.cn' },\r\n    { logo: 'B', url: 'https://www.bilibili.com' }\r\n]\r\nconst simplifyUrl = (url) => { //删除网址前缀,简化url\r\n    return url.replace('https://', '') //replace后会产生新的字符串，故不能直接return原来的url\r\n        .replace('http://', '')\r\n        .replace('www.', '')\r\n        .replace(/\\/.*/, '') //删除斜杆后面的内容——  / \\ /.*/   /为斜杆，\\为反斜杆，反斜杆为转义字符，表示斜杆用：\\ /  ,表示斜杆后面的所有内容： /.*\r\n}\r\nconst render = () => { //声明渲染函数\r\n    $siteList.find('li:not(.last)').remove() //移除已有网址防止重新渲染\r\n    hashMap.forEach((node, index) => {\r\n        const $li = $(`<li>\r\n          <div class=\"site\">\r\n            <div class=\"logo\">${node.logo}</div>\r\n            <div class=\"link\">${simplifyUrl(node.url)}</div>\r\n            <div class=\"close\">\r\n              <svg class=\"icon\">\r\n                <use xlink:href=\"#icon-close\"></use>\r\n              </svg>\r\n            </div>\r\n          </div>\r\n        </li>`).insertBefore($lastLi)\r\n        console.log($li);\r\n        $li.on('click', () => {\r\n            window.open(node.url)\r\n        })\r\n        $li.on('click', '.close', (e) => {\r\n            e.stopPropagation() //阻止冒泡到close按钮\r\n            hashMap.splice(index, 1)\r\n            render()\r\n\r\n        })\r\n    })\r\n}\r\nrender() //先全部渲染一遍\r\n\r\n$('.addButton')\r\n    .on('click', () => { //添加点击事件，新增网址卡片\r\n        let url = prompt('请输入你要新增网站的网址：')\r\n        if (url.indexOf('https') !== 0) {\r\n            url = 'https://' + url\r\n        }\r\n\r\n        hashMap.push({ //将新增网址内容插入哈希数组读档\r\n            logo: simplifyUrl(url)[0].toUpperCase(),\r\n            url: url,\r\n        });\r\n        render() // 重新渲染哈希数组以读档\r\n    });\r\nwindow.onbeforeunload = () => {\r\n    const myStorage = JSON.stringify(hashMap) //将哈希数组从对象转化为字符串\r\n    localStorage.setItem('x', myStorage)\r\n}\r\n$(document).on('keypress', (e) => { //监听键盘事件\r\n    const { key } = e\r\n    for (let i = 0; i < hashMap.length; i++) { //遍历哈希，找到键盘按下的键与之对应的哈希\r\n        if (hashMap[i].logo.toLowerCase() === key) {\r\n            window.open(hashMap[i].url)\r\n        }\r\n    }\r\n})"],"names":["$16b5ad875ae907e2f7f79e7b8fe116cc$var$$siteList","$","$16b5ad875ae907e2f7f79e7b8fe116cc$var$put","document","querySelector","$16b5ad875ae907e2f7f79e7b8fe116cc$var$d","getElementById","addEventListener","style","display","$16b5ad875ae907e2f7f79e7b8fe116cc$var$$lastLi","find","$16b5ad875ae907e2f7f79e7b8fe116cc$var$x","localStorage","getItem","$16b5ad875ae907e2f7f79e7b8fe116cc$var$hashMap","JSON","parse","logo","url","$16b5ad875ae907e2f7f79e7b8fe116cc$var$simplifyUrl","replace","$16b5ad875ae907e2f7f79e7b8fe116cc$var$render","remove","forEach","node","index","$li","insertBefore","console","log","on","window","open","e","stopPropagation","splice","prompt","indexOf","push","toUpperCase","onbeforeunload","myStorage","stringify","setItem","key","i","length","toLowerCase"],"version":3,"file":"index.HASH_REF_83d4711ea689fc47f03deb70f03c99b4.js.map"}